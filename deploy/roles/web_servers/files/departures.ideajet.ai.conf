<IfModule mod_ssl.c>
<VirtualHost *:443>
    ServerName departures.ideajet.ai

    ErrorLog /var/log/apache2/commuter_rail_departure_error.log
    CustomLog /var/log/apache2/commuter_rail_departure_access.log combined

    WSGIDaemonProcess commuter_rail_departure python-home=/applications/commuter_rail_departure/venv
    WSGIProcessGroup commuter_rail_departure

    WSGIScriptAlias / "/applications/commuter_rail_departure/wsgi.py"
    WSGIPassAuthorization On

    Alias /static /applications/commuter_rail_departure/static/
    <Directory /applications/commuter_rail_departure/static/>
        Require all granted
    </Directory>

    Alias /media /applications/commuter_rail_departure_media/
    <Directory /applications/commuter_rail_departure_media/>
        Require all granted
    </Directory>

    <Directory /applications/commuter_rail_departure>
        <Files wsgi.py>
            Require all granted
        </Files>
    </Directory>

SSLCertificateFile /etc/letsencrypt/live/departures.ideajet.ai/fullchain.pem
SSLCertificateKeyFile /etc/letsencrypt/live/departures.ideajet.ai/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
</VirtualHost>
</IfModule>
